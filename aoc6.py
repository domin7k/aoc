inputS = """..............................#.................................#...............#........#.#..#......#..#........#....#...........
..................##.........#..............................#...........#......................#........#.........................
...............#...............#...............................#...#..............................#.....#...............#....#..#.
.........................#.........................................................#........................#.....................
#...#.#.........#..#..........................#............................#.....................#................................
......................................................#......................#..............................#..........#.........#
......................................#.#.....#....................#..................................##..........................
...............#.....................#..........#.......................#.................#............##......................#..
.............................................................................................................#....................
.........#.#..........#....#......#.................#......................#......................................................
..........................................................................#................................#..#......#............
.............#............#............#..................................#............#...........#......#................#......
....................#........##....................................................#.........................................#....
..........................................................................#.....#.............#................................#..
...#.#.....#...........##..#.......................#.............................................................#................
..............#.........#.........#...........................#...................................#...........#.................##
....................#.............................#.......##..#...............#.......................#...#....#..............#...
....................#..................................................................................#...........#.........#....
.......#....#.#..............................#.......................................#...........#.#..............................
.........#................................#..................#.#...........#........#..#........#...#................#............
............................................................#......................#........#....................#.#..............
.....#......#.......#.................#.#......#..............................#..................#.................#..........#...
........................................#..........#...............##...#............................#.#.........#...#....##......
#.....#..............................................................................#............#............#..................
.................................#...........#.......................##.#..#......................................................
.....#......#........................#...................................................................#........................
..................#.........#.............................#....#..................................................................
...#................#......................#....#............#.....................#...#..#...................................#...
.#.#...................#........................................#...#..............#.#...................#.#.................#.#.#
........#................................##.#......#..............................................................................
.......................................#..#.........................................#...........................................#.
..........#.............#..............................................#...............................#..#........#..............
..........#................##..#..............#............................................................#......................
.............................................................................#....#...........................#...................
...#..#.....#......#...............#...........##.....#...#......#...#..........#.........#....................#....#.............
............................#............#...#..........#................................................................#........
.............#...........................................................................................#..........#........#.#..
...................##..#............................................#.................#...#..............................#........
...............................................#.......#.....#.........................#...................#......................
.................................................................................#.#..............................................
...#...................#.................#......#..............................................................................#..
....##.........................#....................................#.....#..................................#......#....##.......
......#...........................................................#......................................#.........#..............
..........##.#.........#.........................#......#......................................................#..................
..................................##.............#.#................#......#..................#..................................#
....#.............................................................................................#......................#....##..
.................#.....#..........................................................................................................
.............................................................................................#.............#.#....................
........#...........................................................................#..............#...#...............#..........
.....................#...........#.............#...............#....#.....#.......................#......#........................
........#................................................................................#.............#.........#................
.............#.................................................................#.............#...................................#
.............#.................#..#.....#........#..#.................#............###.........#.................#.............#..
.....................#.........#......................................................................................#.....#.....
#...#...........##...........................#......................#.........................................................#...
........................................#.................#....#..........#....#...#.................#.....##.#..#................
...............................#..........#..................................#...............................................#....
................##..............#...............................#.#....................#...................................#.#....
...............................................................................................................#....#.............
......#......#....................................................................................................................
......................#................#............#............................#........................................#.......
...............................................................#..............^..................................................#
.......##..........#................................................................................................#.............
..##......#................................#.................................#......#.................#...........#.#.............
#..........................................................................................#...........#......................#...
.............#......#....#.............#.................................................................................#...#....
..................#.....#.............................................................#................#..........................
.....#..............................................................................................................#..#..........
.....#........#................#....#.............#..........#...............#.....................#..........##..................
......#...................................#...................##..................................................#..........#....
...#..................................................................#...............#...............#...........................
..............#..........#.....................#.................................#...........................#............#...#...
......#...........................#...................#........................#...................................#......#.......
.................#...........#...............................................................#.......#.......#................#...
................................#.........#..........................#......................#..#...........#.................#....
.........................#..........................#.........#.....#..................#..........#.....#.........................
.............##.......#.......................................................#..............................#............#.......
..............................................#.......................#...........................................................
#...............................#.................#.......................................#.......#...............................
.....#......#....#........#.......................................................................................#.............#.
...#........#...................#...............................................................##...............................#
...................#................#....................#.................................#.......................#...........#..
..................#.......#............................................................#...........#...............#..............
.............................#.#....#..............................................................#..............................
..................#...........................#.............................#.......#.......#.#.#....#............................
.........................................................................................................#......#.................
#....................................#.........................#....................#........#....................................
..............#..........#............................................................#.........#..............................#..
....................#.....#..............................................#.#...#......#........................#..................
.#.........................#..#.........#.........................................................................................
.........................................................#..................#.............#.............................#.........
.............#..........#...............#..#......................................................................................
....................#.#.............................#.#.................................#.........................................
....................................#................................................#.....................................#......
.............##...........................................................#.#....................#................................
....................................#.#.........................................................#...............#.................
........#..........................................................#.......................#..................................#...
#..........................#.............................#....#...........................##..............#.......................
..........#...#...............................................#..#..................#...........#......#...................#......
..............#........#..........#.................#......#...........#.........##................#..#...............#...........
..............#...............#.....................#...............#...........#.......................................#.......#.
.........#..#...................................#.................#...............................................................
...............#.........#......#......#..#..#..#................#..........................#..................#.....#............
.......#.......#.........................#......#.................................................................................
.#...................................................................#.................................#.........#.........#......
#............#..................#....................#...............#.........................................#..................
.....................#............................................#...#......................................................##...
...#........................................................................#......................................#.....#........
...................................#............#.......#.#......................#...........#.........#..........#...............
.....#................................#.#..#...............#..................#......#.............................#..............
.....#......................#.....................#........#................#..................................................#..
....................#..............#..........#........................#............#.......................#........#............
.......................................#............#.......##....#..#.............................#....................#.........
..#.......#..................#....................#.#..........#........................#......#................#.................
................#.......#...............#.........#...............................................................................
..............................................#..#........#..........#...#...........................#....................###.....
...............#..........................................#.........#........#....................................................
..#..................................................#...............#....#.......#.........................#.....#...............
.........#....................................#.............#.......................#...............#..................#..........
.....................................#..........................................#..........................................#..#...
.#...#............#...................................................#...................................................#.......
..#..............................#..#....#.....#...#.....#........##............#........#.##.....................#............#..
#............#.................................................#..................................................................
.......#.#....................................#.............#......#......#..................#..........#.........................
..........#......#...#...............................................................................##................#.........#
........#................................................#.....#.........#.#......................#.....#..........#..............
..............#..........................#..#..#.............##...............#..............#.............#...........##.#.......
.......................#............#................................#.........................#..........#.....................#.
.#..............................................................#................#..............................................#.
.....#..#........................#...............#....#......#........................................#...........#..............."""

pos = (0, 0)


for i, line in enumerate(inputS.split("\n")):
    if "^" in line:
        pos = (i, line.index("^"))

splot = [list(i) for i in inputS.split("\n")]
dirs = ["top", "right", "bottom", "left"]
counter = 0
for o in range(len(splot)):
    for i in range(len(splot[0])):
        if splot[o][i] == ".":
            split = [list(i) for i in inputS.split("\n")]
            split[o][i] = "#"

            left = []
            right = []
            top = []
            bottom = []
            dir = "top"
            for i, line in enumerate(inputS.split("\n")):
                if "^" in line:
                    pos = (i, line.index("^"))
            print(pos)
            stop = False
            while (
                pos[0] < len(split) -1 
                and pos[0] > 0
                and pos[1] < len(split[0]) -1
                and pos[1] > 0
                and not stop
            ):
                split[pos[0]][pos[1]] = "X"
                if dir == "top":
                    if pos in top:
                        stop = True
                    top.append(pos)
                    if split[pos[0] - 1][pos[1]] == "#":
                        dir = "right"
                    else:
                        pos = (pos[0] - 1, pos[1])
                elif dir == "right":
                    if pos in right:
                        stop = True
                    right.append(pos)
                    if split[pos[0]][pos[1] + 1] == "#":
                        dir = "bottom"
                    else:
                        pos = (pos[0], pos[1] + 1)
                elif dir == "bottom":
                    if pos in bottom:
                        stop = True
                    bottom.append(pos)
                    if split[pos[0] + 1][pos[1]] == "#":
                        dir = "left"
                    else:
                        pos = (pos[0] + 1, pos[1])
                elif dir == "left":
                    if pos in left:
                        stop = True
                    left.append(pos)
                    if split[pos[0]][pos[1] - 1] == "#":
                        dir = "top"
                    else:
                        pos = (pos[0], pos[1] - 1)

            if stop:
                counter += 1
                print("LOOP")
            c = 1
            for i, line in enumerate(split):
                for char in line:
                    if char == "X":
                        c += 1
                # print(f"{i} " + "".join(line))

            print(c)

print(counter)
